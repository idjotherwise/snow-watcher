{% extends "shared/layout.html" %}
{% set active_page = "index" %}
{% block content %}


    <div style="clear:both;"></div>
    <br>
    <br>
    <p class="lead">
        The <a href="https://idjotherwise.github.io/nlp-otherwise/">Otherwise</a> weather service, based on the <a href="https://training.talkpython.fm/">Talk Python</a> FastAPI course<br>
        <br>
<p>Don't have a thermometer to hand? Can't be bothered to look outside to see what the weather is like? Use this API to check the weather anywhere in the world.</p>
        <strong>Response JSON</strong>
                <ul>
                    <li>Click <a href="/api/weather/feldkirch?&country=at">here</a> to see the weather in Feldkirch (Austria) right now.
                    </li>
                    <li>Click <a href="/api/weather/llandysul?&country=uk">here</a> to see the weather in Llandysul (UK) right now.
                    </li>
                </ul>
        <strong>Endpoints</strong>
    <ul>
        <li>
            <strong>Current weather in a city</strong><br>
            <a href="/api/weather/feldkirch?&country=at"
               target="_blank"
            ><strong>GET /api/weather/{city}?country={country}&state={state}</strong></a><br>
            <br>
            <div style="font-size: 12px;">
                <strong>Parameters</strong>
                <ul>
                    <li><strong>Required</strong>: <code>city={city}</code> - the city you want to get the weather at.
                    </li>
                    <li>Optional: <code>state={state}</code> - the state of the city (US only, two letter
                        abbreviations).
                    </li>
                    <li>Optional: <code>country={country}</code> - country, UK if none specified (two letter
                        ISO 3166 country codes, see <a href="https://en.wikipedia.org/wiki/List_of_ISO_3166_country_codes">a list of ISO country codes</a>).
                    </li>
                    <li>Optional: <code>units={units}</code> - units: {metric, imperial, standard}, defaults to metric.
                    </li>
                </ul>
            </div>
        </li>
    </ul>
    </p>
    {% if events %}
    <div>
        <h2>Recent weather events</h2>
        <ul>
            {% for e in events %}
            <li> {{ e.location.city }}, {{ e.location.country }}: {{ e.description }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
    </div>

{% endblock %}